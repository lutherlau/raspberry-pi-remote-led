<!DOCTYPE html>
<html lang="zh">
    
    <head>
        <meta charset="UTF-8">
        <title>LED远程控制客户端</title></head>
    
    <body>
        <button id="on" onclick="on()">开灯</button>
        <button id="off" onclick="off()">关灯</button>
        <br>
        <div id="state">等待控制</div></body>
    <script type="text/javascript">var req = new XMLHttpRequest();
        function off() {
            //这里localhost改成服务器IP，3721改为您的服务端口
            req.open("POST", "http://123.206.49.222:6005", true);

            //请求头信息
            req.setRequestHeader("Content-type", "application/x-www-form-urlencoded; charset=UTF-8");

            //回调函数
            req.onreadystatechange = callback;

            //数据,默认执行操作1
            var reqData = "cmd=off";
            //发送
            req.readyState = 0 req.send(reqData);
        }

        function on() {
            //这里localhost改成服务器IP，3721改为您的服务端口
            req.open("POST", "http://123.206.49.222:6005", true);

            //请求头信息
            req.setRequestHeader("Content-type", "application/x-www-form-urlencoded; charset=UTF-8");

            //回调函数
            req.onreadystatechange = callback;

            //数据
            var reqData = "cmd=on";

            //发送
            req.readyState = 0 req.send(reqData);
        }
        //回调
        function callback() {
            var show = document.getElementById("state");
            //如果ajax和request的状态都正确
            if (req.readyState == 4) {
                if (req.status == 200) {
                    //返回数据
                    var response = req.responseText;
                    // 修改
                    show.innerHTML = response;
                    //req.readyState == 0
                } else {
                    show.innerHTML = "error";
                }
            } else {
                show.innerHTML = "watting";
            }
        }</script>

</html>